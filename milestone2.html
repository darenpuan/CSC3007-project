<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Milestone 2</title>
    <link rel="stylesheet" href="./css/milestone2.css" />
    <link
      href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"
      rel="stylesheet"
      media="all"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"
      integrity="sha256-qXBd/EfAdjOA2FGrGAG+b3YBn2tn5A6bhz+LSgYD96k="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.onemap.sg/leaflet/onemap-leaflet.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/MarkerCluster.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.5.0/MarkerCluster.Default.min.css"
    />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/leaflet.markercluster.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <!-- <link
      href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.10.2/mdb.min.css"
      rel="stylesheet"
    /> -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <script src="dropdown_options.js"></script>
  </head>
  <body>
    <header>
      <p class="pMM2">
        <small><a href="./index.html" class="linkMM2">Milestone 1</a></small>
      </p>

      <div class="">
        <h1>The Carbon Effect</h1>
        <h2>
          Since the begining of time, humans have been partaking in increasing
          the rate of global warming with their various activities.
        </h2>
        <a href="#first" class="hvr-icon-down">
          Scroll Down <i class="fa fa-arrow-circle-o-down hvr-icon"></i>
        </a>
      </div>
    </header>
    <section id="first">
      <div class="container">
        <div class="">
          <h2>
            Climate change is a global challenge that requires a global
            response.
          </h2>
          <p>
            Carbon dioxide emissions are the primary driver of global climate
            change. It’s widely recognised that to avoid the worst impacts of
            climate change, the world needs to urgently reduce emissions. But,
            how this responsibility is shared between regions, countries, and
            individuals has been an endless point of contention in international
            discussions. To reach our climate goal of limiting average
            temperature rise to 2°C, the world needs to urgently reduce
            emissions. Who should lead the charge? The countries that
            contributed most?
          </p>
        </div>
        <h3 class="mt-2">
          World Cumulative CO2 Emmissions
          <div class="popup" onclick="popMap()">
            <i class="fa fa-info-circle" aria-hidden="true"></i>
            <span class="popuptext" id="popupMap">Popup text...</span>
          </div>
        </h3>
        <div class="textC">
          <div class="dInline">
            <label for="dropdown">Year: &nbsp;</label>
            <select id="dropdown" class="form-select w-20"></select>
          </div>
          <svg class="map"></svg>
          <div class="tooltip"></div>
        </div>
        <div class="">
          <ul type="square">
            <li>
              From the mid 20th Century, the United States has emitted more CO2
              than any other country: at about 400 billion tonnes, it is
              responsible for 25% of historical emissions;
            </li>
            <li>
              The amount is twice that of the world's second largest national
              contributor, China.
            </li>
            <li>
              Some of the large emitters today - such as India and Brazil - are
              not large contributors in a historical context.
            </li>
            <li>
              To date, Singapore has contributed 2.16 billion tonnes of CO2.
            </li>
          </ul>
        </div>
      </div>
    </section>
    <section id="second">
      <div class="container">
        <h3>
          Singapore CO2 Contributions
          <div class="popup" onclick="popLine()">
            <i class="fa fa-info-circle" aria-hidden="true"></i>
            <span class="popuptext" id="popupLine">Popup text...</span>
          </div>
        </h3>
        <div class="dInline2">
          <label for="selectButton">Type: &nbsp;</label>
          <select
            id="selectButton"
            class="form-select mt-1"
            onchange="filterResult(this.value)"
          ></select>
        </div>

        <div class="flex mt-1 mb-1">
          <div class="graphDiv">
            <div class="">
              <!-- <canvas id="lineChart" width="300" height="100"></canvas> -->
              <div style="width: 500px; height: 350px">
                <canvas id="lineChart"></canvas>
              </div>
            </div>
          </div>
          <div class="textDiv">
            <h4>Description</h4>
            <p id="desc"></p>
          </div>
        </div>
        <p>
          Singapore has made significant contributions to the World's CO2
          emmisions. The graph shows the cumulative levels of various
          contributing factors to CO2. For data points at 0, there is no data
          collected for that year.
        </p>
      </div>
    </section>
    <section id="third">
      <div class="container">
        <div class="graph3">
          <h3>
            Singapore Recycling Areas
            <div class="popup" onclick="popLeaf()">
              <i class="fa fa-info-circle" aria-hidden="true"></i>
              <span class="popuptext" id="popupLeaf"
                ><p>Data: E-Waste Recycling Location, Second Hand Location</p>
                <p>
                  How: The visualization is represented as a Geospatial
                  Visualization to display the location of the E-Waste Recycling
                  and Second Hand Location.
                </p>
                <p>
                  Why: With the increase of carbon emission especially co2, it
                  causes the global temperature to rise. Hence, Singaporeans
                  should play apart to help to save the earth by recycling their
                  item or donate them to a second hand shop.
                </p>
              </span>
            </div>
          </h3>
          <div class="container">
            <div class="" id="mapdiv" style="height: 620px"></div>
            <p class="mt-2">
              To help reduce Singapore's carbon footprint, Singaporeans can go
              to any of the above E-Waste Recycling Centres or Second-Hand Shops
              to dispose of their unwanted items.
            </p>
          </div>
        </div>
      </div>
    </section>
    <section id="others">
      <div class="container">
        <h3>Others</h3>
        <details>
          <summary>Contributions</summary>
          <p>
            This site was built by Daren, Michelle & Nu Win with all
            contributing equal efforts to the project.
          </p>
        </details>
        <details>
          <summary>Pitfalls Encountered</summary>
            <p>
              The geojson data and co2 data that was gathered had different
              naming conventions for the countries, as such renaming was
              required to ensure that the data is able to match.
            </p>
            <p>
              Using D3 to do the line chart led to some issues with the Y-Axis not refreshing, upon fixing it, the transition did not work for switching between graphs. Chart.js was used in the end to display the data.
            </p>
        </details>
        <details>
          <summary>Future Work</summary>
          <p>
            A better story line.
          </p>
          <p>
            More interactive graphs (i.e. showing the CO2 emission trend when user hovers over the interested country.)
          </p>
        </details>
      </div>
    </section>
    <div class="footerContainer">
      <footer
        class="d-flex flex-wrap justify-content-between align-items-center border-top"
      >
        <div class="d-flex align-items-center">
          <span class="mb-3 mb-md-0 text-muted">© 2022 CSC3007 Team 10</span>
        </div>
      </footer>
    </div>
  </body>
  <script src="js/choropleth.js"></script>
  <script src="js/singaporeContribution.js"></script>
  <script src="js/recyclingArea.js"></script>
  <script>
    // When the user clicks on <div>, open the popup
    function popLine() {
      var popup = document.getElementById("popupLine");
      popup.classList.toggle("show");
    }
    function popMap() {
      var popup = document.getElementById("popupMap");
      popup.classList.toggle("show");
    }
    function popLeaf() {
      var popup = document.getElementById("popupLeaf");
      popup.classList.toggle("show");
    }
  </script>
</html>
